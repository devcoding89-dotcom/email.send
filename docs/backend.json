{
  "entities": {
    "ParseResult": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ParseResult",
      "type": "object",
      "description": "Represents the result of a text parsing and email extraction operation.",
      "properties": {
        "id": { "type": "string" },
        "userId": { "type": "string" },
        "rawText": { "type": "string" },
        "extractedEmails": { "type": "array", "items": { "type": "string" } },
        "identifiedEntities": { "type": "array", "items": { "type": "string" } },
        "createdAt": { "type": "string", "format": "date-time" },
        "campaignTitle": { "type": "string" },
        "emailCount": { "type": "number" }
      },
      "required": ["id", "userId", "rawText", "extractedEmails", "createdAt"]
    },
    "Campaign": {
      "title": "Campaign",
      "type": "object",
      "description": "Represents an email outreach campaign.",
      "properties": {
        "id": { "type": "string" },
        "userId": { "type": "string" },
        "name": { "type": "string", "description": "Internal name for the campaign." },
        "subject": { "type": "string", "description": "The subject line of the email." },
        "body": { "type": "string", "description": "The email content with {{tokens}}." },
        "status": { "type": "string", "enum": ["draft", "scheduled", "sending", "completed", "paused"] },
        "scheduledAt": { "type": "string", "format": "date-time" },
        "speed": { "type": "number", "description": "Emails per minute." },
        "stats": {
          "type": "object",
          "properties": {
            "total": { "type": "number" },
            "sent": { "type": "number" },
            "failed": { "type": "number" }
          }
        },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "userId", "name", "subject", "body", "status", "createdAt"]
    },
    "Contact": {
      "title": "Contact",
      "type": "object",
      "description": "A single contact for outreach.",
      "properties": {
        "id": { "type": "string" },
        "userId": { "type": "string" },
        "firstName": { "type": "string" },
        "lastName": { "type": "string" },
        "email": { "type": "string" },
        "company": { "type": "string" },
        "position": { "type": "string" },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["id", "userId", "email", "createdAt"]
    },
    "CampaignLog": {
      "title": "CampaignLog",
      "type": "object",
      "description": "Log entry for an individual email sent in a campaign.",
      "properties": {
        "id": { "type": "string" },
        "campaignId": { "type": "string" },
        "userId": { "type": "string" },
        "contactEmail": { "type": "string" },
        "status": { "type": "string", "enum": ["sent", "failed"] },
        "timestamp": { "type": "string", "format": "date-time" },
        "errorMessage": { "type": "string" }
      },
      "required": ["id", "campaignId", "userId", "contactEmail", "status", "timestamp"]
    }
  },
  "auth": {
    "providers": ["password", "anonymous"]
  },
  "firestore": {
    "/users/{userId}/parses/{parseResultId}": {
      "schema": { "$ref": "#/backend/entities/ParseResult" },
      "description": "Stores individual text parsing results."
    },
    "/users/{userId}/campaigns/{campaignId}": {
      "schema": { "$ref": "#/backend/entities/Campaign" },
      "description": "Stores email campaigns created by the user."
    },
    "/users/{userId}/campaigns/{campaignId}/logs/{logId}": {
      "schema": { "$ref": "#/backend/entities/CampaignLog" },
      "description": "Stores individual email transmission logs."
    },
    "/users/{userId}/contacts/{contactId}": {
      "schema": { "$ref": "#/backend/entities/Contact" },
      "description": "Stores contacts for outreach."
    }
  }
}
